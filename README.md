# ТЗ Микросервисы

## Технологии
 
1. **Язык и платформа:**
- Java 22
- Spring Boot 3.3.2
- Spring Framework 6.1.x (наследуется от Spring Boot)
  
2. **Базы данных:**
- PostgreSQL (42.7.3)
- Spring Data JPA
  
3. **Веб-технологии:**
- Spring Web
- Spring Actuator
  
4. **Микросервисная инфраструктура:**
- Spring Cloud 2023.0.3
- Eureka Server
- Eureka Client
- OpenFeign
  
5. **Вспомогательные инструменты:**
- Lombok
- Spring Boot Maven Plugin
- Docker

## Архитектура сервисов

1. **Сервис пользователей**
   - Управляет сущностями пользователей (ID, имя, фамилия, телефон, ID компании)
   - Предоставляет CRUD-эндпоинты + получение всех пользователей
   - Возвращает пользователей с полными объектами компаний

2. **Сервис компаний**
   - Управляет сущностями компаний (ID, название, бюджет, список ID сотрудников)
   - Предоставляет CRUD-эндпоинты + получение всех компаний
   - Возвращает компании с полными списками пользователей

2. **Eureka сервер**
   - обеспечивает взаимосвязь между микросервисами

3. **Инфраструктура**
   - discoveryMicro - Eureka сервер
   - company - микросервис для работы с компаниями
   - user - микросервис для работы с пользователямии

## Доступ к сервисам

   - Eureka Dashboard: http://localhost:8761
   - Сервис пользователей: http://localhost:8082/companies
   - Сервис компаний: http://localhost:8081/users

## API Эндпоинты

### User Controller (/users)

| Метод  | Эндпоинт      | Описание                    |
|:-------|:-------------:|:----------------------------|
| GET    | /users/{id}   | Получить пользователя по ID |
| POST   | /users        | Добавить нового пользователя|
| DELETE | /users/{id}   | Удалить пользователя по ID  |
| PATCH  | /users        | Обновить данные пользователя|
| GET    | /users        | Получить всех пользователей | 

### Company Controller (/companies)

| Метод  | Эндпоинт          | Описание                    |
|:-------|:-----------------:|:----------------------------|
| GET    | /companies/{id}   | Получить компанию по ID     |
| POST   | /companies        | Добавить новую компанию     |
| DELETE | /companies/{id}   | Удалить компанию по ID      |
| PATCH  | /companies        | Обновить данные компании    |
| GET    | /companies        | Получить все компании       |

